# Changelog - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –∫–∞–º–µ—Ä

## –í–µ—Ä—Å–∏—è —Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–π —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π (2026-01-31)

### üêõ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

#### –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –≤–∏–¥–µ–æ–∫–∞–º–µ—Ä
- **–ü—Ä–æ–±–ª–µ–º–∞**: –°–∏—Å—Ç–µ–º–∞ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ –æ–ø—Ä–µ–¥–µ–ª—è–ª–∞ –≤–∏–¥–µ–æ–∫–∞–º–µ—Ä—ã –∫–∞–∫ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö
- **–ü—Ä–∏—á–∏–Ω–∞**: –°–ª–∏—à–∫–æ–º —Å—Ç—Ä–æ–≥–∞—è –ª–æ–≥–∏–∫–∞ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏, –∏—Å–∫–ª—é—á–∞—é—â–∞—è –∫–∞–º–µ—Ä—ã —Å –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–º–∏
- **–†–µ—à–µ–Ω–∏–µ**: –ü–µ—Ä–µ—Ä–∞–±–æ—Ç–∞–Ω–∞ –ª–æ–≥–∏–∫–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –≤–∏–¥–µ–æ—É—Å—Ç—Ä–æ–π—Å—Ç–≤

### üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —É–ª—É—á—à–µ–Ω–∏—è

#### –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è: `is_video_capture_device()`
```python
def is_video_capture_device(self, device_path: str) -> bool:
    """–ü—Ä–æ–≤–µ—Ä–∫–∞, —è–≤–ª—è–µ—Ç—Å—è –ª–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –≤–∏–¥–µ–æ–∑–∞—Ö–≤–∞—Ç–æ–º (–Ω–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–º–∏)"""
    device_info = self.get_device_info(device_path)
    
    if 'error' in device_info:
        return False
    
    # –ü—Ä–æ–≤–µ—Ä—è–µ–º Capabilities
    capabilities = device_info.get('Capabilities', '').lower()
    device_caps = device_info.get('Device Caps', '').lower()
    
    # –ü—Ä–æ–≤–µ—Ä—è–µ–º, –µ—Å—Ç—å –ª–∏ Video Capture –≤ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—è—Ö
    has_video_capture = ('video capture' in capabilities or 
                       'video capture' in device_caps)
    
    # –ü—Ä–æ–≤–µ—Ä—è–µ–º, –µ—Å—Ç—å –ª–∏ Metadata Capture
    has_metadata_capture = ('metadata capture' in capabilities or 
                          'metadata capture' in device_caps)
    
    # –ï—Å–ª–∏ –µ—Å—Ç—å Video Capture, —Å—á–∏—Ç–∞–µ–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –≤–∏–¥–µ–æ–∫–∞–º–µ—Ä–æ–π
    # –î–∞–∂–µ –µ—Å–ª–∏ –µ—Å—Ç—å Metadata Capture, —ç—Ç–æ –º–æ–∂–µ—Ç –±—ã—Ç—å –∫–∞–º–µ—Ä–∞ —Å –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–º–∏
    if has_video_capture:
        return True
    
    # –ï—Å–ª–∏ –Ω–µ—Ç Video Capture, –Ω–æ –µ—Å—Ç—å Metadata Capture - —ç—Ç–æ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ
    if has_metadata_capture and not has_video_capture:
        return False
    
    # –ï—Å–ª–∏ –Ω–µ—Ç –Ω–∏ —Ç–æ–≥–æ, –Ω–∏ –¥—Ä—É–≥–æ–≥–æ - –Ω–µ –≤–∏–¥–µ–æ—É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ
    return False
```

### üéØ –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–π –ª–æ–≥–∏–∫–∏

#### –ù–æ–≤–∞—è –ª–æ–≥–∏–∫–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –≤–∏–¥–µ–æ—É—Å—Ç—Ä–æ–π—Å—Ç–≤:
1. **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç Video Capture**: –ï—Å–ª–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –∏–º–µ–µ—Ç Video Capture - —ç—Ç–æ –≤–∏–¥–µ–æ—É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ
2. **–î–æ–ø—É—Å–∫ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö**: –ö–∞–º–µ—Ä—ã –º–æ–≥—É—Ç –∏–º–µ—Ç—å –∏ Video Capture –∏ Metadata Capture –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ
3. **–ß–∏—Å—Ç—ã–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ**: –¢–æ–ª—å–∫–æ Metadata Capture –±–µ–∑ Video Capture - —ç—Ç–æ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ
4. **–ù–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞**: –ù–µ—Ç –Ω–∏ Video Capture, –Ω–∏ Metadata Capture - –Ω–µ –≤–∏–¥–µ–æ—É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ

#### –ü—Ä–∏–º–µ—Ä—ã –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —É—Å—Ç—Ä–æ–π—Å—Ç–≤:

**–í–∏–¥–µ–æ–∫–∞–º–µ—Ä–∞ —Å –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–º–∏:**
```
Capabilities: 0x84a00001
    Video Capture
    Metadata Capture
    Streaming
    Extended Pix Format
    Device Capabilities
Device Caps: 0x84a00001
    Video Capture
    Metadata Capture
    Streaming
    Extended Pix Format
    Device Capabilities
‚Üí –†–µ–∑—É–ª—å—Ç–∞—Ç: –í–∏–¥–µ–æ–∫–∞–º–µ—Ä–∞ (has_video_capture = True)
```

**–ß–∏—Å—Ç–æ–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö:**
```
Capabilities: 0x04a00000
    Metadata Capture
    Streaming
    Extended Pix Format
Device Caps: 0x04a00000
    Metadata Capture
    Streaming
    Extended Pix Format
‚Üí –†–µ–∑—É–ª—å—Ç–∞—Ç: –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ (has_video_capture = False, has_metadata_capture = True)
```

**–û–±—ã—á–Ω–∞—è –≤–∏–¥–µ–æ–∫–∞–º–µ—Ä–∞:**
```
Capabilities: 0x84200001
    Video Capture
    Streaming
    Extended Pix Format
    Device Capabilities
‚Üí –†–µ–∑—É–ª—å—Ç–∞—Ç: –í–∏–¥–µ–æ–∫–∞–º–µ—Ä–∞ (has_video_capture = True)
```

### üìã –ß—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å –≤ –ª–æ–≥–∞—Ö

#### –ë—ã–ª–æ (–æ—à–∏–±–æ—á–Ω–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ):
```
2026-01-31 16:31:26,260 - flask_stream - DEBUG - /dev/video0 - –Ω–µ –≤–∏–¥–µ–æ—É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ (–º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –∏–ª–∏ –¥—Ä—É–≥–æ–µ)
2026-01-31 16:31:26,265 - flask_stream - DEBUG - /dev/video1 - –Ω–µ –≤–∏–¥–µ–æ—É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ (–º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –∏–ª–∏ –¥—Ä—É–≥–æ–µ)
2026-01-31 16:31:26,281 - flask_stream - DEBUG - /dev/video2 - –Ω–µ –≤–∏–¥–µ–æ—É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ (–º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –∏–ª–∏ –¥—Ä—É–≥–æ–µ)
2026-01-31 16:31:26,290 - flask_stream - DEBUG - /dev/video3 - –Ω–µ –≤–∏–¥–µ–æ—É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ (–º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –∏–ª–∏ –¥—Ä—É–≥–æ–µ)
2026-01-31 16:31:26,306 - flask_stream - WARNING - ‚ùå –í–∏–¥–µ–æ–∫–∞–º–µ—Ä—ã –Ω–µ –Ω–∞–π–¥–µ–Ω—ã –≤ —Å–∏—Å—Ç–µ–º–µ
```

#### –°—Ç–∞–ª–æ (–ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ):
```
2026-01-31 16:35:00,000 - flask_stream - INFO - ‚úÖ /dev/video0 - –í–∏–¥–µ–æ–∫–∞–º–µ—Ä–∞ –Ω–∞–π–¥–µ–Ω–∞: UVC Camera (046d:0825)
2026-01-31 16:35:00,000 - flask_stream - INFO - ‚úÖ /dev/video2 - –í–∏–¥–µ–æ–∫–∞–º–µ—Ä–∞ –Ω–∞–π–¥–µ–Ω–∞: UVC Camera (046d:0825)
2026-01-31 16:35:00,000 - flask_stream - INFO - üìä –ù–∞–π–¥–µ–Ω–æ –≤–∏–¥–µ–æ–∫–∞–º–µ—Ä: 2
```

### üöÄ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

1. **–¢–æ—á–Ω–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ**: –í–∏–¥–µ–æ–∫–∞–º–µ—Ä—ã —Å –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–º–∏ —Ç–µ–ø–µ—Ä—å –ø—Ä–∞–≤–∏–ª—å–Ω–æ —Ä–∞—Å–ø–æ–∑–Ω–∞—é—Ç—Å—è
2. **–ì–∏–±–∫–∞—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è**: –°–∏—Å—Ç–µ–º–∞ —É—á–∏—Ç—ã–≤–∞–µ—Ç —Ä–∞–∑–ª–∏—á–Ω—ã–µ –∫–æ–º–±–∏–Ω–∞—Ü–∏–∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π —É—Å—Ç—Ä–æ–π—Å—Ç–≤
3. **–°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å**: –†–∞–±–æ—Ç–∞–µ—Ç —Å –∫–∞–º–µ—Ä–∞–º–∏ —Ä–∞–∑–Ω—ã—Ö –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª–µ–π –∏ —Ç–∏–ø–æ–≤
4. **–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å**: –ò—Å–∫–ª—é—á–∞–µ—Ç —Ç–æ–ª—å–∫–æ —á–∏—Å—Ç—ã–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö

### üìÅ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã

#### –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ —Å–∫—Ä–∏–ø—Ç–∞
```bash
cd 004_code_flask_web_stream
python test_camera_detector.py
```

#### –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç
```
üîç –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–µ—Ç–µ–∫—Ç–æ—Ä–∞ –∫–∞–º–µ—Ä...
==================================================
üìä –†–ï–ó–£–õ–¨–¢–ê–¢–´ –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–Ø:
==================================================
‚úÖ –ù–∞–π–¥–µ–Ω–æ –≤–∏–¥–µ–æ–∫–∞–º–µ—Ä: 2

üìπ –ö–ê–ú–ï–†–ê 1: /dev/video0
   –¢–∏–ø: UVC Camera (046d:0825)
   –î—Ä–∞–π–≤–µ—Ä: uvcvideo
   –®–∏–Ω–∞: usb-0000:02:00.0-2
   –†–∞–∑—Ä–µ—à–µ–Ω–∏—è: 640x480, 800x600, 1280x720
   FPS: 5, 10, 15, 25, 30
   –§–æ—Ä–º–∞—Ç—ã:
      - YUYV: 640x480, 800x600, 1280x720
      - MJPG: 640x480, 800x600, 1280x720

üìπ –ö–ê–ú–ï–†–ê 2: /dev/video2
   –¢–∏–ø: UVC Camera (046d:0825)
   –î—Ä–∞–π–≤–µ—Ä: uvcvideo
   –®–∏–Ω–∞: usb-0000:02:00.0-2
   –†–∞–∑—Ä–µ—à–µ–Ω–∏—è: 640x480, 800x600, 1280x720
   FPS: 5, 10, 15, 25, 30
   –§–æ—Ä–º–∞—Ç—ã:
      - YUYV: 640x480, 800x600, 1280x720
      - MJPG: 640x480, 800x600, 1280x720

==================================================
‚úÖ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–æ
```

### üìù –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

#### –ó–∞–ø—É—Å–∫ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ —Å–∫—Ä–∏–ø—Ç–∞
```bash
python 04_flask_webcam_stream.py
# –¢–µ–ø–µ—Ä—å –ø—Ä–∞–≤–∏–ª—å–Ω–æ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç –≤–∏–¥–µ–æ–∫–∞–º–µ—Ä—ã
```

#### –ê–Ω–∞–ª–∏–∑ –ª–æ–≥–æ–≤
```bash
# –ü–æ–∏—Å–∫ –Ω–∞–π–¥–µ–Ω–Ω—ã—Ö –∫–∞–º–µ—Ä
grep "üìπ –ö–ê–ú–ï–†–ê" 002_logs/flask_stream_*.log

# –ü–æ–∏—Å–∫ —É—Å–ø–µ—à–Ω–æ–≥–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è
grep "‚úÖ.*–í–∏–¥–µ–æ–∫–∞–º–µ—Ä–∞ –Ω–∞–π–¥–µ–Ω–∞" 002_logs/flask_stream_*.log
```

–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –∫–∞–º–µ—Ä –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç —Ç–æ—á–Ω–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –≤–∏–¥–µ–æ–∫–∞–º–µ—Ä –∏ –∏—Å–∫–ª—é—á–∞–µ—Ç —Ç–æ–ª—å–∫–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö!