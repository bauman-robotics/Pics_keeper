<!-- camera_list.html -->
 
<div class="camera-selection">
    <h3>üìπ –í—ã–±–æ—Ä –∫–∞–º–µ—Ä—ã</h3>
    <div id="camera-list" class="camera-list">
        {% if cameras %}
            {% for camera in cameras %}
            <div class="camera-item-row {{ 'current' if camera.is_current else '' }}">
                <input type="radio" name="camera" class="camera-radio" 
                       value="{{ camera.device_path }}" {{ 'checked' if camera.is_current else '' }} 
                       onchange="selectMainCamera('{{ camera.device_path }}')">
                <div class="camera-info">
                    <div class="camera-name-main">{{ camera.name or camera.device_path }}</div>
                    <div class="camera-details">
                        <span class="camera-device-main">{{ camera.device_path }}</span>
                        <span class="camera-formats-main">–§–æ—Ä–º–∞—Ç—ã: {{ camera.formats|join(', ')|truncate(50) }}</span>
                    </div>
                    <div class="camera-resolutions-main">
                        –†–∞–∑—Ä–µ—à–µ–Ω–∏—è: 
                        {% for res in camera.resolutions[:5] %}
                        <span class="resolution-tag-main">{{ res }}</span>
                        {% endfor %}
                        {% if camera.resolutions|length > 5 %}
                        <span class="resolution-tag-main">...</span>
                        {% endif %}
                    </div>
                </div>
                <div class="camera-actions-main">
                    <button class="btn-apply {{ 'active' if not camera.is_current else '' }}" 
                            onclick="applyCamera('{{ camera.device_path }}')"
                            {{ 'disabled' if camera.is_current else '' }}>
                        –ü—Ä–∏–º–µ–Ω–∏—Ç—å
                    </button>
                    {% if camera.is_current %}
                    <span class="camera-status">–¢–µ–∫—É—â–∞—è –∫–∞–º–µ—Ä–∞</span>
                    {% endif %}
                </div>
            </div>
            {% endfor %}
        {% else %}
            <div class="error">–ö–∞–º–µ—Ä—ã –Ω–µ –Ω–∞–π–¥–µ–Ω—ã</div>
        {% endif %}
    </div>
</div>
