# Changelog - –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ Flask Webcam Stream

## –í–µ—Ä—Å–∏—è —Å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º (2026-01-31)

### üìù –ù–æ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

#### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å–∏—Å—Ç–µ–º—ã –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
- **–ü–µ—Ä–µ–Ω–æ—Å –ª–æ–≥–≥–µ—Ä–∞**: –ê–¥–∞–ø—Ç–∞—Ü–∏—è —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ –ª–æ–≥–≥–µ—Ä–∞ –∏–∑ `001_code/utils/logger.py`
- **–ù–æ–≤—ã–π –∫–ª–∞—Å—Å**: `StreamLogger` –¥–ª—è Flask –≤–µ–±-—Å–µ—Ä–≤–µ—Ä–∞
- **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ –ø–∞–ø–∫—É**: –ó–∞–ø–∏—Å—å –ª–æ–≥–æ–≤ –≤ `002_logs` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞
- **–§–æ—Ä–º–∞—Ç –ª–æ–≥–æ–≤**: –ò–¥–µ–Ω—Ç–∏—á–Ω—ã–π –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–º—É –ª–æ–≥–≥–µ—Ä—É

### üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —É–ª—É—á—à–µ–Ω–∏—è

#### –ù–æ–≤—ã–π –º–æ–¥—É–ª—å –ª–æ–≥–≥–µ—Ä–∞: `utils/logger.py`
```python
class StreamLogger:
    """–ö–ª–∞—Å—Å –¥–ª—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è —Å–æ–±—ã—Ç–∏–π Flask –≤–µ–±-—Å–µ—Ä–≤–µ—Ä–∞"""
    
    def __init__(self, config_path: str = 'config.yaml', log_dir: str = '002_logs')
    def log_startup_info(self, config, camera_info=None)
    def log_camera_test(self, backend_name, success, resolution=None, fps=None, error=None)
    def log_stream_start(self)
    def log_stream_stop(self)
    def log_frame_sent(self, frame_count)
```

#### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ –æ—Å–Ω–æ–≤–Ω–æ–π —Å–∫—Ä–∏–ø—Ç
- **–ò–º–ø–æ—Ä—Ç –ª–æ–≥–≥–µ—Ä–∞**: `from utils.logger import create_logger`
- **–°–æ–∑–¥–∞–Ω–∏–µ —ç–∫–∑–µ–º–ø–ª—è—Ä–∞**: `logger = create_logger(args.config)`
- **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–ø—É—Å–∫–∞**: `logger.log_startup_info(config)`
- **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–∞–º–µ—Ä**: `logger.log_camera_test(name, True, resolution_str, fps_str)`

### üìã –ß—Ç–æ –ª–æ–≥–∏—Ä—É–µ—Ç—Å—è

#### –ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ —Å–∏—Å—Ç–µ–º—ã
```
2026-01-31 16:00:00,000 - flask_stream - INFO - üöÄ Flask Webcam Stream –∑–∞–ø—É—â–µ–Ω
2026-01-31 16:00:00,000 - flask_stream - INFO - üìÅ –õ–æ–≥-—Ñ–∞–π–ª: /path/to/002_logs/flask_stream_20260131_160000.log
2026-01-31 16:00:00,000 - flask_stream - INFO - ‚öôÔ∏è  –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è: config.yaml
```

#### –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∑–∞–ø—É—Å–∫–µ
```
======================================================================
üìã –ò–ù–§–û–†–ú–ê–¶–ò–Ø –û –ó–ê–ü–£–°–ö–ï
======================================================================
‚è∞ –í—Ä–µ–º—è –∑–∞–ø—É—Å–∫–∞: 2026-01-31 16:00:00
üåê –ü–ê–†–ê–ú–ï–¢–†–´ –°–ï–†–í–ï–†–ê:
   –•–æ—Å—Ç: 0.0.0.0
   –ü–æ—Ä—Ç: 5000
   Debug: False
   Threaded: True
üì∑ –ü–ê–†–ê–ú–ï–¢–†–´ –ö–ê–ú–ï–†–´:
   –£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ: 0
   –ë—ç–∫–µ–Ω–¥: auto
   –†–∞–∑—Ä–µ—à–µ–Ω–∏–µ: 1280x720
   FPS: 30
   JPEG –∫–∞—á–µ—Å—Ç–≤–æ: 85
   üì∏ –ù–∞–π–¥–µ–Ω–Ω–∞—è –∫–∞–º–µ—Ä–∞: V4L2 video0
   üìê –§–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ: 1280x720
   üìä –§–∞–∫—Ç–∏—á–µ—Å–∫–∏–π FPS: 30
üé¨ –ü–ê–†–ê–ú–ï–¢–†–´ –ü–û–¢–û–ö–ê:
   –ú–∞–∫—Å. –æ—à–∏–±–æ–∫: 10
   –ò–Ω—Ç–µ—Ä–≤–∞–ª –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è: 30
üìÅ –ü–£–¢–ò:
   –®–∞–±–ª–æ–Ω—ã: templates_04
   –õ–æ–≥–∏: /path/to/002_logs
======================================================================
```

#### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–∞–º–µ—Ä
```
2026-01-31 16:00:01,000 - flask_stream - INFO - ‚úÖ V4L2 video0 –†–ê–ë–û–¢–ê–ï–¢!
2026-01-31 16:00:01,000 - flask_stream - INFO -    –†–∞–∑—Ä–µ—à–µ–Ω–∏–µ: 1280x720
2026-01-31 16:00:01,000 - flask_stream - INFO -    FPS: 30
```

#### –†–∞–±–æ—Ç–∞ —Å—Ç—Ä–∏–º–∞
```
2026-01-31 16:00:05,000 - flask_stream - INFO - üé¨ –°—Ç—Ä–∏–º –∑–∞–ø—É—â–µ–Ω
2026-01-31 16:00:10,000 - flask_stream - INFO - üìä –û—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ –∫–∞–¥—Ä–æ–≤: 30
2026-01-31 16:00:15,000 - flask_stream - INFO - üìä –û—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ –∫–∞–¥—Ä–æ–≤: 60
2026-01-31 16:00:20,000 - flask_stream - INFO - üé¨ –°—Ç—Ä–∏–º –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
```

#### –û—à–∏–±–∫–∏ –∏ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è
```
2026-01-31 16:00:01,000 - flask_stream - WARNING - ‚ùå Default –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç: –ù–µ —É–¥–∞–ª–æ—Å—å –æ—Ç–∫—Ä—ã—Ç—å —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ
2026-01-31 16:00:02,000 - flask_stream - ERROR - –ù–ï –ù–ê–ô–î–ï–ù–ê –†–ê–ë–û–ß–ê–Ø –ö–ê–ú–ï–†–ê!
```

### üéØ –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è

#### –§–æ—Ä–º–∞—Ç –ª–æ–≥-—Ñ–∞–π–ª–æ–≤
- **–ò–º—è —Ñ–∞–π–ª–∞**: `flask_stream_YYYYMMDD_HHMMSS.log`
- **–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ**: `002_logs/` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞
- **–ö–æ–¥–∏—Ä–æ–≤–∫–∞**: UTF-8
- **–§–æ—Ä–º–∞—Ç**: `%(asctime)s - %(name)s - %(levelname)s - %(message)s`

#### –£—Ä–æ–≤–Ω–∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
- **DEBUG**: –û—Ç–ª–∞–¥–æ—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è (—Ç–æ–ª—å–∫–æ –≤ —Ñ–∞–π–ª)
- **INFO**: –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è (–∫–æ–Ω—Å–æ–ª—å + —Ñ–∞–π–ª)
- **WARNING**: –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è (–∫–æ–Ω—Å–æ–ª—å + —Ñ–∞–π–ª)
- **ERROR**: –û—à–∏–±–∫–∏ (–∫–æ–Ω—Å–æ–ª—å + —Ñ–∞–π–ª)

#### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏
- –õ–æ–≥–≥–µ—Ä –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–µ—Ç –ø–∞–ø–∫—É `002_logs` –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ
- –ï—Å–ª–∏ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –Ω–µ —Å–æ–∑–¥–∞–µ—Ç—Å—è, —Å–∫—Ä–∏–ø—Ç –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è —Å –æ—à–∏–±–∫–æ–π

### üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ —Å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º

```
Pics_keeper/
‚îú‚îÄ‚îÄ 002_logs/                          # –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –ª–æ–≥–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ flask_stream_20260131_160000.log
‚îÇ   ‚îî‚îÄ‚îÄ flask_stream_20260131_163000.log
‚îú‚îÄ‚îÄ 004_code_flask_web_stream/
‚îÇ   ‚îú‚îÄ‚îÄ utils/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ logger.py                 # –ù–æ–≤—ã–π –º–æ–¥—É–ª—å –ª–æ–≥–≥–µ—Ä–∞
‚îÇ   ‚îú‚îÄ‚îÄ 04_flask_webcam_stream.py     # –°–∫—Ä–∏–ø—Ç —Å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º
‚îÇ   ‚îú‚îÄ‚îÄ config.yaml                   # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îÇ   ‚îî‚îÄ‚îÄ templates_04/                 # HTML —à–∞–±–ª–æ–Ω—ã
‚îî‚îÄ‚îÄ 001_code/
    ‚îî‚îÄ‚îÄ utils/
        ‚îî‚îÄ‚îÄ logger.py                 # –û—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π –ª–æ–≥–≥–µ—Ä
```

### üîó –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å

#### –°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –ª–æ–≥–≥–µ—Ä—ã
- **001_code/utils/logger.py**: –û—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π –ª–æ–≥–≥–µ—Ä –¥–ª—è Pics_keeper
- **004_code_flask_web_stream/utils/logger.py**: –ê–¥–∞–ø—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ª–æ–≥–≥–µ—Ä –¥–ª—è Flask

#### –û–±—â–∏–µ —á–µ—Ä—Ç—ã
- –û–¥–∏–Ω–∞–∫–æ–≤—ã–π —Ñ–æ—Ä–º–∞—Ç –ª–æ–≥–æ–≤
- –ü–æ—Ö–æ–∂–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–ª–∞—Å—Å–æ–≤
- –ê–Ω–∞–ª–æ–≥–∏—á–Ω—ã–µ –º–µ—Ç–æ–¥—ã –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –ª–æ–≥–æ–≤

### üöÄ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è

1. **–û—Ç–ª–∞–¥–∫–∞**: –ü–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ä–∞–±–æ—Ç–µ —Å–∏—Å—Ç–µ–º—ã
2. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥**: –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è —Å—Ç—Ä–∏–º–∞ –∏ –∫–∞–º–µ—Ä
3. **–ê–Ω–∞–ª–∏–∑**: –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∞–Ω–∞–ª–∏–∑–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∏ –æ—à–∏–±–æ–∫
4. **–ê—É–¥–∏—Ç**: –ü–æ–ª–Ω–∞—è –∏—Å—Ç–æ—Ä–∏—è –∑–∞–ø—É—Å–∫–æ–≤ –∏ —Å–æ–±—ã—Ç–∏–π
5. **–ü–æ–¥–¥–µ—Ä–∂–∫–∞**: –£–ø—Ä–æ—â–µ–Ω–∏–µ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ –ø—Ä–æ–±–ª–µ–º

### üìù –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

#### –ó–∞–ø—É—Å–∫ —Å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º
```bash
python 04_flask_webcam_stream.py
# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—Å—Ç –ª–æ–≥-—Ñ–∞–π–ª –≤ 002_logs/
```

#### –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
```bash
# –ü—Ä–æ—Å–º–æ—Ç—Ä –ø–æ—Å–ª–µ–¥–Ω–∏—Ö –∑–∞–ø–∏—Å–µ–π
tail -f 002_logs/flask_stream_20260131_160000.log

# –ü–æ–∏—Å–∫ –æ—à–∏–±–æ–∫
grep "ERROR" 002_logs/flask_stream_*.log

# –ê–Ω–∞–ª–∏–∑ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
grep "üìä –û—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ –∫–∞–¥—Ä–æ–≤" 002_logs/flask_stream_*.log
```

–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–µ–ª–∞–µ—Ç —Å–∏—Å—Ç–µ–º—É –±–æ–ª–µ–µ –ø—Ä–æ–∑—Ä–∞—á–Ω–æ–π, –Ω–∞–¥–µ–∂–Ω–æ–π –∏ —É–¥–æ–±–Ω–æ–π –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏!