# Changelog - –£–ª—É—á—à–µ–Ω–Ω—ã–π –¥–µ—Ç–µ–∫—Ç–æ—Ä –∫–∞–º–µ—Ä

## –í–µ—Ä—Å–∏—è —Å —É–ª—É—á—à–µ–Ω–Ω—ã–º –¥–µ—Ç–µ–∫—Ç–æ—Ä–æ–º (2026-01-31)

### üìã –ù–æ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

#### –ù–æ–≤—ã–π –º–æ–¥—É–ª—å —É–ª—É—á—à–µ–Ω–Ω–æ–≥–æ –¥–µ—Ç–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è: `utils/camera_checker.py`
- **–ù–∞ –æ—Å–Ω–æ–≤–µ check_cam_formats.sh**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–≤–µ—Ä–µ–Ω–Ω–æ–≥–æ —Ä–∞–±–æ—á–µ–≥–æ —Å–∫—Ä–∏–ø—Ç–∞
- **–ü—Ä–æ—Å—Ç–∞—è –∏ –Ω–∞–¥–µ–∂–Ω–∞—è –ª–æ–≥–∏–∫–∞**: –ü—Ä—è–º–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è "Video Capture" –≤ –≤—ã–≤–æ–¥–µ v4l2-ctl
- **–ë—ã—Å—Ç—Ä–æ–µ –¥–µ—Ç–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**: –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –≤—ã–∑–æ–≤–æ–≤
- **–¢–æ—á–Ω–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ**: –†–∞–±–æ—Ç–∞–µ—Ç —Å –∫–∞–º–µ—Ä–∞–º–∏, –∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç—Å—è v4l2-ctl

### üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —É–ª—É—á—à–µ–Ω–∏—è

#### –ù–æ–≤—ã–π –∫–ª–∞—Å—Å: `CameraChecker`
```python
class CameraChecker:
    def check_device(self, device_path: str) -> Dict
    def detect_cameras(self, max_devices: int = 10) -> List[Dict]
    def log_detection_results(self, cameras: List[Dict])
```

#### –§—É–Ω–∫—Ü–∏—è –¥–ª—è –±—ã—Å—Ç—Ä–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏
```python
def check_cameras(max_devices: int = 10) -> List[Dict]
```

### üéØ –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —É–ª—É—á—à–µ–Ω–Ω–æ–≥–æ –¥–µ—Ç–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

#### –ü—Ä–æ—Å—Ç–∞—è –∏ –Ω–∞–¥–µ–∂–Ω–∞—è –ª–æ–≥–∏–∫–∞:
1. **–ü—Ä—è–º–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞**: –ò—â–µ–º "Video Capture" –≤ –≤—ã–≤–æ–¥–µ `v4l2-ctl -d /dev/videoN --info`
2. **–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –≤—ã–∑–æ–≤—ã**: –¢–æ–ª—å–∫–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ —Å–∏—Å—Ç–µ–º–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã
3. **–ë—ã—Å—Ç—Ä–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ**: –ù–µ—Ç —Å–ª–æ–∂–Ω–æ–≥–æ –ø–∞—Ä—Å–∏–Ω–≥–∞ –∏ –∞–Ω–∞–ª–∏–∑–∞
4. **–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å**: –†–∞–±–æ—Ç–∞–µ—Ç —Å –ª—é–±—ã–º–∏ –∫–∞–º–µ—Ä–∞–º–∏, –∫–æ—Ç–æ—Ä—ã–µ –≤–∏–¥–∏—Ç v4l2-ctl

#### –ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –∫–æ–º–∞–Ω–¥—ã:
- **–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ**: `v4l2-ctl -d /dev/videoN --info`
- **–°–ø–∏—Å–æ–∫ —Ñ–æ—Ä–º–∞—Ç–æ–≤**: `v4l2-ctl -d /dev/videoN --list-formats`
- **–°–ø–∏—Å–æ–∫ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π**: `v4l2-ctl -d /dev/videoN --list-formats-ext`

### üìã –ß—Ç–æ –ª–æ–≥–∏—Ä—É–µ—Ç—Å—è –ø—Ä–∏ –¥–µ—Ç–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏

#### –û–±—â–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è:
```
======================================================================
üîç –†–ï–ó–£–õ–¨–¢–ê–¢–´ –î–ï–¢–ï–ö–¢–ò–†–û–í–ê–ù–ò–Ø –ö–ê–ú–ï–† (–£–õ–£–ß–®–ï–ù–ù–´–ô)
======================================================================
```

#### –î–ª—è –∫–∞–∂–¥–æ–≥–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞:
```
üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ /dev/video0
‚úÖ /dev/video0 - –í–∏–¥–µ–æ–∫–∞–º–µ—Ä–∞ –Ω–∞–π–¥–µ–Ω–∞
   –§–æ—Ä–º–∞—Ç—ã: YUYV, MJPG
   –†–∞–∑—Ä–µ—à–µ–Ω–∏—è: 640x480, 1280x720, 640x360
```

#### –°–≤–æ–¥–∫–∞ –ø–æ –Ω–∞–π–¥–µ–Ω–Ω—ã–º –∫–∞–º–µ—Ä–∞–º:
```
üìä –ù–∞–π–¥–µ–Ω–æ –≤–∏–¥–µ–æ–∫–∞–º–µ—Ä: 2

üìπ –ö–ê–ú–ï–†–ê 1: /dev/video0
   üì¥ –§–æ—Ä–º–∞—Ç—ã: YUYV, MJPG
   üìã –†–∞–∑—Ä–µ—à–µ–Ω–∏—è: 640x480, 1280x720, 640x360

üìπ –ö–ê–ú–ï–†–ê 2: /dev/video2
   üì¥ –§–æ—Ä–º–∞—Ç—ã: YUYV, MJPG
   üìã –†–∞–∑—Ä–µ—à–µ–Ω–∏—è: 640x480, 160x120, 176x144
======================================================================
```

### üöÄ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ —É–ª—É—á—à–µ–Ω–Ω–æ–≥–æ –¥–µ—Ç–µ–∫—Ç–æ—Ä–∞

1. **–ü—Ä–æ—Å—Ç–æ—Ç–∞**: –ü—Ä—è–º–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è "Video Capture" –≤ –≤—ã–≤–æ–¥–µ
2. **–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å**: –ò—Å–ø–æ–ª—å–∑—É–µ—Ç —Ç—É –∂–µ –ª–æ–≥–∏–∫—É, —á—Ç–æ –∏ —Ä–∞–±–æ—á–∏–π —Å–∫—Ä–∏–ø—Ç check_cam_formats.sh
3. **–°–∫–æ—Ä–æ—Å—Ç—å**: –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –≤—ã–∑–æ–≤–æ–≤
4. **–¢–æ—á–Ω–æ—Å—Ç—å**: –†–∞–±–æ—Ç–∞–µ—Ç —Å –ª—é–±—ã–º–∏ –∫–∞–º–µ—Ä–∞–º–∏, –∫–æ—Ç–æ—Ä—ã–µ –≤–∏–¥–∏—Ç v4l2-ctl
5. **–°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å**: –ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –∫–∞–º–µ—Ä —Ä–∞–∑–Ω—ã—Ö –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª–µ–π –∏ —Ç–∏–ø–æ–≤

### üìÅ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ —Å–∏—Å—Ç–µ–º—É

#### –ó–∞–º–µ–Ω–∞ —Å—Ç–∞—Ä–æ–≥–æ –¥–µ—Ç–µ–∫—Ç–æ—Ä–∞:
```python
# –ë—ã–ª–æ: –°–ª–æ–∂–Ω—ã–π –¥–µ—Ç–µ–∫—Ç–æ—Ä —Å –ø–∞—Ä—Å–∏–Ω–≥–æ–º capabilities
from .camera_detector import CameraDetector

# –°—Ç–∞–ª–æ: –ü—Ä–æ—Å—Ç–æ–π –∏ –Ω–∞–¥–µ–∂–Ω—ã–π –¥–µ—Ç–µ–∫—Ç–æ—Ä
from .camera_checker import CameraChecker
```

#### –û–±–Ω–æ–≤–ª–µ–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è:
```python
def scan_available_cameras(self, max_devices: int = 10) -> List[Dict]:
    # –°–æ–∑–¥–∞–µ–º —É–ª—É—á—à–µ–Ω–Ω—ã–π –¥–µ—Ç–µ–∫—Ç–æ—Ä –∫–∞–º–µ—Ä
    checker = CameraChecker()
    
    # –î–µ—Ç–µ–∫—Ç–∏—Ä—É–µ–º –∫–∞–º–µ—Ä—ã
    cameras = checker.detect_cameras(max_devices)
    
    # –õ–æ–≥–∏—Ä—É–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
    checker.log_detection_results(cameras)
    
    return cameras
```

### üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

#### –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ v4l2-ctl:
```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —É—Ç–∏–ª–∏—Ç—ã
sudo apt install v4l-utils

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã
v4l2-ctl --list-devices
```

#### –†—É—á–Ω–æ–µ –¥–µ—Ç–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–∞–º–µ—Ä:
```python
from utils.camera_checker import check_cameras

cameras = check_cameras(max_devices=10)
for cam in cameras:
    print(f"–ö–∞–º–µ—Ä–∞: {cam['device_path']}")
    print(f"–§–æ—Ä–º–∞—Ç—ã: {cam['formats']}")
    print(f"–†–∞–∑—Ä–µ—à–µ–Ω–∏—è: {cam['resolutions']}")
```

### üìù –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

#### –ó–∞–ø—É—Å–∫ —Å —É–ª—É—á—à–µ–Ω–Ω—ã–º –¥–µ—Ç–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º:
```bash
python 04_flask_webcam_stream.py
# –¢–µ–ø–µ—Ä—å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —É–ª—É—á—à–µ–Ω–Ω—ã–π –¥–µ—Ç–µ–∫—Ç–æ—Ä
```

#### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —É–ª—É—á—à–µ–Ω–Ω–æ–≥–æ –¥–µ—Ç–µ–∫—Ç–æ—Ä–∞:
```bash
python utils/camera_checker.py
# –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤–æ–π —Ñ—É–Ω–∫—Ü–∏–∏
```

#### –ê–Ω–∞–ª–∏–∑ –ª–æ–≥–æ–≤:
```bash
# –ü–æ–∏—Å–∫ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –∫–∞–º–µ—Ä–∞—Ö
grep "üîç –†–ï–ó–£–õ–¨–¢–ê–¢–´ –î–ï–¢–ï–ö–¢–ò–†–û–í–ê–ù–ò–Ø –ö–ê–ú–ï–† (–£–õ–£–ß–®–ï–ù–ù–´–ô)" 002_logs/flask_stream_*.log

# –ü–æ–∏—Å–∫ –Ω–∞–π–¥–µ–Ω–Ω—ã—Ö –∫–∞–º–µ—Ä
grep "üìπ –ö–ê–ú–ï–†–ê" 002_logs/flask_stream_*.log
```

### üìä –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å –ø—Ä–µ–¥—ã–¥—É—â–∏–º–∏ –≤–µ—Ä—Å–∏—è–º–∏

| –í–µ—Ä—Å–∏—è | –ü–æ–¥—Ö–æ–¥ | –°–ª–æ–∂–Ω–æ—Å—Ç—å | –ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å | –°–∫–æ—Ä–æ—Å—Ç—å |
|--------|--------|-----------|------------|----------|
| 1.0 | OpenCV —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ | –í—ã—Å–æ–∫–∞—è | –ù–∏–∑–∫–∞—è | –ù–∏–∑–∫–∞—è |
| 2.0 | v4l2-ctl —Å –ø–∞—Ä—Å–∏–Ω–≥–æ–º | –°—Ä–µ–¥–Ω—è—è | –°—Ä–µ–¥–Ω—è—è | –°—Ä–µ–¥–Ω—è—è |
| 3.0 | –£–ª—É—á—à–µ–Ω–Ω—ã–π v4l2-ctl | –ù–∏–∑–∫–∞—è | –í—ã—Å–æ–∫–∞—è | –í—ã—Å–æ–∫–∞—è |

–£–ª—É—á—à–µ–Ω–Ω—ã–π –¥–µ—Ç–µ–∫—Ç–æ—Ä –∫–∞–º–µ—Ä –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –ø—Ä–æ—Å—Ç–æ–µ, –Ω–∞–¥–µ–∂–Ω–æ–µ –∏ –±—ã—Å—Ç—Ä–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –≤–∏–¥–µ–æ–∫–∞–º–µ—Ä!