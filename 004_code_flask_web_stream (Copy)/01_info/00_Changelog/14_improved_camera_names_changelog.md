# Changelog - –£–ª—É—á—à–µ–Ω–Ω–æ–µ –ø–æ–ª—É—á–µ–Ω–∏–µ –Ω–∞–∑–≤–∞–Ω–∏–π –∫–∞–º–µ—Ä

## –í–µ—Ä—Å–∏—è —Å —É–ª—É—á—à–µ–Ω–Ω—ã–º —Å–ø–æ—Å–æ–±–æ–º –ø–æ–ª—É—á–µ–Ω–∏—è –Ω–∞–∑–≤–∞–Ω–∏–π (2026-01-31)

### üêõ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

#### –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –Ω–∞–∑–≤–∞–Ω–∏–π –∫–∞–º–µ—Ä
- **–ü—Ä–æ–±–ª–µ–º–∞**: –°–∏—Å—Ç–µ–º–∞ –ø–æ–∫–∞–∑—ã–≤–∞–ª–∞ "–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è –∫–∞–º–µ—Ä–∞" –≤–º–µ—Å—Ç–æ —Ä–µ–∞–ª—å–Ω—ã—Ö –Ω–∞–∑–≤–∞–Ω–∏–π
- **–ü—Ä–∏—á–∏–Ω–∞**: –°–ª–æ–∂–Ω–∞—è –ª–æ–≥–∏–∫–∞ —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è –ø–æ USB ID –∏ –¥—Ä–∞–π–≤–µ—Ä–∞–º –Ω–µ —Ä–∞–±–æ—Ç–∞–ª–∞ –Ω–∞–¥–µ–∂–Ω–æ
- **–†–µ—à–µ–Ω–∏–µ**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø—Ä—è–º–æ–π –∫–æ–º–∞–Ω–¥—ã `v4l2-ctl --list-devices` –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –Ω–∞–∑–≤–∞–Ω–∏–π

### üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —É–ª—É—á—à–µ–Ω–∏—è

#### –ù–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏—è: `_get_camera_names()`
```python
def _get_camera_names(self) -> Dict[str, str]:
    """–ü–æ–ª—É—á–µ–Ω–∏–µ –Ω–∞–∑–≤–∞–Ω–∏–π –∫–∞–º–µ—Ä –ø–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º"""
    cameras = {}
    try:
        # –ü–æ–ª—É—á–∞–µ–º —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –≤–∏–¥–µ–æ—É—Å—Ç—Ä–æ–π—Å—Ç–≤
        result = subprocess.run(['v4l2-ctl', '--list-devices'], 
                              capture_output=True, text=True, timeout=5)
        
        if result.returncode == 0:
            # –ü–∞—Ä—Å–∏–º –≤—ã–≤–æ–¥
            current_camera = None
            for line in result.stdout.split('\n'):
                if line.strip() and not line.startswith('\t'):
                    # –≠—Ç–æ –Ω–∞–∑–≤–∞–Ω–∏–µ –∫–∞–º–µ—Ä—ã
                    current_camera = line.strip()
                elif line.strip() and line.startswith('\t'):
                    # –≠—Ç–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –∫–∞–º–µ—Ä—ã
                    device_match = re.search(r'/dev/video\d+', line)
                    if device_match and current_camera:
                        device = device_match.group()
                        cameras[device] = current_camera
    except Exception as e:
        self.logger.debug(f"–û—à–∏–±–∫–∞ –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ –Ω–∞–∑–≤–∞–Ω–∏–π –∫–∞–º–µ—Ä: {e}")
    
    return cameras
```

#### –£–ø—Ä–æ—â–µ–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è: `_get_camera_name()`
```python
def _get_camera_name(self, device_path: str) -> str:
    """–ü–æ–ª—É—á–µ–Ω–∏–µ –Ω–∞–∑–≤–∞–Ω–∏—è –∫–∞–º–µ—Ä—ã –ø–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤—É"""
    return self.camera_names.get(device_path, "–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è –∫–∞–º–µ—Ä–∞")
```

### üéØ –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —É–ª—É—á—à–µ–Ω–Ω–æ–≥–æ —Å–ø–æ—Å–æ–±–∞:

#### –ù–æ–≤–∞—è –ª–æ–≥–∏–∫–∞ –ø–æ–ª—É—á–µ–Ω–∏—è –Ω–∞–∑–≤–∞–Ω–∏–π:
1. **–ü—Ä—è–º–æ–µ –ø–æ–ª—É—á–µ–Ω–∏–µ**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `v4l2-ctl --list-devices` –¥–ª—è –ø—Ä—è–º–æ–≥–æ –ø–æ–ª—É—á–µ–Ω–∏—è –Ω–∞–∑–≤–∞–Ω–∏–π
2. **–ü—Ä–æ—Å—Ç–æ–µ –ø–∞—Ä—Å–∏–Ω–≥**: –ü–∞—Ä—Å–∏–Ω–≥ –≤—ã–≤–æ–¥–∞ –ø–æ —Ç–∞–±—É–ª—è—Ü–∏–∏ (–Ω–∞–∑–≤–∞–Ω–∏–µ - —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ)
3. **–ù–∞–¥–µ–∂–Ω–æ–µ —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ**: –ü—Ä—è–º–æ–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –∏ –Ω–∞–∑–≤–∞–Ω–∏—è
4. **–£–ø—Ä–æ—â–µ–Ω–∏–µ –∫–æ–¥–∞**: –£–¥–∞–ª–µ–Ω–∞ —Å–ª–æ–∂–Ω–∞—è –ª–æ–≥–∏–∫–∞ —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è –ø–æ USB ID

#### –ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞ `v4l2-ctl --list-devices`:
```
Microdia Camera (usb-0000:00:14.0-1):
	/dev/video0
	/dev/video1

UVC Camera (046d:0825) (usb-0000:00:14.0-2):
	/dev/video2
	/dev/video3
```

#### –†–µ–∑—É–ª—å—Ç–∞—Ç —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è:
```
{
    '/dev/video0': 'Microdia Camera (usb-0000:00:14.0-1)',
    '/dev/video1': 'Microdia Camera (usb-0000:00:14.0-1)',
    '/dev/video2': 'UVC Camera (046d:0825) (usb-0000:00:14.0-2)',
    '/dev/video3': 'UVC Camera (046d:0825) (usb-0000:00:14.0-2)'
}
```

### üìã –ß—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å –≤ –ª–æ–≥–∞—Ö

#### –ë—ã–ª–æ (–Ω–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–µ –∫–∞–º–µ—Ä—ã):
```
üìπ –ö–ê–ú–ï–†–ê 1: /dev/video0 (–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è –∫–∞–º–µ—Ä–∞)
üìπ –ö–ê–ú–ï–†–ê 2: /dev/video2 (–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è –∫–∞–º–µ—Ä–∞)
```

#### –°—Ç–∞–ª–æ (—Ä–µ–∞–ª—å–Ω—ã–µ –Ω–∞–∑–≤–∞–Ω–∏—è):
```
üìπ –ö–ê–ú–ï–†–ê 1: /dev/video0 (Microdia Camera (usb-0000:00:14.0-1))
üìπ –ö–ê–ú–ï–†–ê 2: /dev/video2 (UVC Camera (046d:0825) (usb-0000:00:14.0-2))
```

### üöÄ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ —É–ª—É—á—à–µ–Ω–Ω–æ–≥–æ —Å–ø–æ—Å–æ–±–∞:

1. **–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å**: –ü—Ä—è–º–æ–µ –ø–æ–ª—É—á–µ–Ω–∏–µ –Ω–∞–∑–≤–∞–Ω–∏–π –æ—Ç v4l2-ctl
2. **–ü—Ä–æ—Å—Ç–æ—Ç–∞**: –£–ø—Ä–æ—â–µ–Ω–Ω–∞—è –ª–æ–≥–∏–∫–∞ –±–µ–∑ —Å–ª–æ–∂–Ω–æ–≥–æ —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è
3. **–¢–æ—á–Ω–æ—Å—Ç—å**: –†–µ–∞–ª—å–Ω—ã–µ –Ω–∞–∑–≤–∞–Ω–∏—è –∫–∞–º–µ—Ä –∫–∞–∫ –≤ —Å–∏—Å—Ç–µ–º–µ
4. **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**: –ú–µ–Ω—å—à–µ —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –≤—ã–∑–æ–≤–æ–≤ –∏ –ø–∞—Ä—Å–∏–Ω–≥–∞
5. **–°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å**: –†–∞–±–æ—Ç–∞–µ—Ç —Å –ª—é–±—ã–º–∏ –∫–∞–º–µ—Ä–∞–º–∏, –∫–æ—Ç–æ—Ä—ã–µ –≤–∏–¥–∏—Ç v4l2-ctl

### üìÅ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã

#### –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ —Å–∫—Ä–∏–ø—Ç–∞
```bash
cd 004_code_flask_web_stream
python utils/camera_checker.py
```

#### –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç
```
üîç –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —É–ª—É—á—à–µ–Ω–Ω–æ–≥–æ –¥–µ—Ç–µ–∫—Ç–æ—Ä–∞ –∫–∞–º–µ—Ä...
==================================================
üìä –†–ï–ó–£–õ–¨–¢–ê–¢–´ –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–Ø:
==================================================
‚úÖ –ù–∞–π–¥–µ–Ω–æ –≤–∏–¥–µ–æ–∫–∞–º–µ—Ä: 2

üìπ –ö–ê–ú–ï–†–ê 1: /dev/video0 (Microdia Camera (usb-0000:00:14.0-1))
   –§–æ—Ä–º–∞—Ç—ã: YUYV, MJPG
   –†–∞–∑—Ä–µ—à–µ–Ω–∏—è: 640x480, 1280x720, 640x360

üìπ –ö–ê–ú–ï–†–ê 2: /dev/video2 (UVC Camera (046d:0825) (usb-0000:00:14.0-2))
   –§–æ—Ä–º–∞—Ç—ã: YUYV, MJPG
   –†–∞–∑—Ä–µ—à–µ–Ω–∏—è: 640x480, 160x120, 176x144

==================================================
‚úÖ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–æ
```

### üìù –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

#### –ó–∞–ø—É—Å–∫ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ —Å–∫—Ä–∏–ø—Ç–∞
```bash
python 04_flask_webcam_stream.py
# –¢–µ–ø–µ—Ä—å –≤ –ª–æ–≥–∞—Ö –±—É–¥—É—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è —Ä–µ–∞–ª—å–Ω—ã–µ –Ω–∞–∑–≤–∞–Ω–∏—è –∫–∞–º–µ—Ä
```

#### –ê–Ω–∞–ª–∏–∑ –ª–æ–≥–æ–≤
```bash
# –ü–æ–∏—Å–∫ –Ω–∞–π–¥–µ–Ω–Ω—ã—Ö –∫–∞–º–µ—Ä —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ –Ω–∞–∑–≤–∞–Ω–∏—è–º–∏
grep "üìπ –ö–ê–ú–ï–†–ê" 002_logs/flask_stream_*.log
```

### üìä –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å –ø—Ä–µ–¥—ã–¥—É—â–∏–º–∏ –≤–µ—Ä—Å–∏—è–º–∏

| –í–µ—Ä—Å–∏—è | –°–ø–æ—Å–æ–± –ø–æ–ª—É—á–µ–Ω–∏—è | –ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å | –†–µ–∑—É–ª—å—Ç–∞—Ç |
|--------|----------------|------------|-----------|
| 1.0 | USB ID + –¥—Ä–∞–π–≤–µ—Ä—ã | –ù–∏–∑–∫–∞—è | –ù–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è –∫–∞–º–µ—Ä–∞ |
| 2.0 | v4l2-ctl --list-devices | –í—ã—Å–æ–∫–∞—è | –†–µ–∞–ª—å–Ω—ã–µ –Ω–∞–∑–≤–∞–Ω–∏—è |

–£–ª—É—á—à–µ–Ω–Ω—ã–π —Å–ø–æ—Å–æ–± –ø–æ–ª—É—á–µ–Ω–∏—è –Ω–∞–∑–≤–∞–Ω–∏–π –∫–∞–º–µ—Ä –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –Ω–∞–¥–µ–∂–Ω–æ–µ –∏ —Ç–æ—á–Ω–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –Ω–∞–∑–≤–∞–Ω–∏–π!